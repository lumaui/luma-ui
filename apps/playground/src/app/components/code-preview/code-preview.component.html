<luma-card>
  <div lumaCardContent class="space-y-4">
    <!-- Preview Area -->
    <div class="p-4 sm:p-6 flex items-center justify-center bg-text-secondary/5 rounded-luma-md min-h-[120px]">
      <ng-container *ngTemplateOutlet="preview" />
    </div>

    <!-- Actions Bar - botÃµes lado a lado -->
    <div class="flex items-center justify-end gap-3">
      <button
        (click)="toggleCode()"
        class="text-sm text-text-secondary hover:text-text-primary transition-colors"
      >
        {{ showCode() ? 'Hide Code' : 'Show Code' }}
      </button>
      <button
        (click)="copyCode()"
        class="flex items-center gap-2 text-sm text-text-secondary hover:text-primary transition-colors"
      >
        @if (!copied()) {
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
          </svg>
        }
        @if (copied()) {
          <svg class="w-4 h-4 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
          </svg>
        }
        <span>{{ copied() ? 'Copied!' : 'Copy' }}</span>
      </button>
    </div>

    <!-- Code Area (collapsible) -->
    @if (showCode()) {
      <div class="bg-[#0d1117] rounded-luma-md p-4 overflow-x-auto">
        <pre class="text-xs sm:text-sm"><code class="language-{{ language }} text-gray-300">{{ code }}</code></pre>
      </div>
    }
  </div>
</luma-card>
